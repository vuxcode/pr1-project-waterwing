<!DOCTYPE html>
<html lang = "en">
<head>
<meta name = "color-scheme" content="dark">
</head>
<style>
/* Style for body */
body{
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
/* Style for buttons */
button{
    background-color: rgba(0,0,0,1);
    font-size: 16px;
    font-weight: 700;
    font-family: Lucida Console;
}
button:hover{
    background-color: rgba(50,50,50,1);
}
/* Style for the buttons div */
#buttons{
    display: grid; 
    grid-template-columns: 4.9vw 4.9vw 4.9vw 4.9vw; 
    height: 39vh; 
    width: 20vw; 
    grid-row-gap: 1px; 
    grid-column-gap: 1px; 
    background-color: rgba(100,100,100,1);
}
/* Style for the output window */
#userinput{
    width: 20vw; 
    height: 10vh; 
    text-align: center;
    text-align: right;
    resize: none;
    font-size: 20px;
}
/* Style for the calcculator div */
#calculator{
  position: absolute; 
  width: 20vw; 
  left: 40vw; 
  right: 40vw; 
  top: 10vh; 
  border: 2px solid white; 
  height: 50vh; 
  display: flex; 
  flex-wrap: wrap
}


</style>
<body>
<!-- One div containing all the elements of the calculator -->
<div id = calculator>
  <!-- Output window for showing the users input -->
  <textarea id = "userInput"></textarea>
  <!-- Buttons for the numbers, operands and other functions -->
  <div id = "buttons">
    <button id = "numberButton">7</button>
    <button id = "numberButton">8</button>
    <button id = "numberButton">9</button>
    <button id = "numberButton">/</button>
    
    <button id = "numberButton">4</button>
    <button id = "numberButton">5</button>
    <button id = "numberButton">6</button>
    <button id = "numberButton">*</button>
    
    <button id = "numberButton">1</button>
    <button id = "numberButton">2</button>
    <button id = "numberButton">3</button>
    <button id = "numberButton">-</button>

    <!-- Three buttons have individual ids since they are used in separate functions -->
    <button id = "clearButton">C</button>
    <button id = "numberButton">0</button>
    <button id = "numberButton">.</button>
    <button id = "numberButton">+</button>
    <button id = "equalsButton">=</button>
    <button id = "clearHistoryButton">Cl. hist.</button>
  </div>
</div>  
<!-- Textarea showing previous calculations -->
<textarea id = history></textarea>
<script>
// Variable for the output window
var outputWindow = document.getElementById("userInput");
// querySelectorAll helps by making it possible to use all number and operator buttons under one id
var allButtons = document.querySelectorAll("#numberButton");
// Variable for the equals button
var equals = document.getElementById("equalsButton");
// Variable for the history window
var recent = document.getElementById("history");
// Variable for the "clear history" button
var clearRecent = document.getElementById("clearHistoryButton");
// Variable for clear button
var clear = document.getElementById("clearButton");
// forEach is used to be able to listen to and give a funtion to all buttons found in querySelectorAll 
allButtons.forEach(button => {
    // Added event listener to all buttons to register clicks
    button.addEventListener("click", () => {
        // If a button is clicked it will update output window with the innerHTML of the button
        outputwindow.innerHTML += button.innerHTML
    })
})
// Function for the calculation
function compute() {
    // Check to see if button is working
    console.log("Equals button clicked.");
    // If equals button is clicked with no given input, it should give 0 as a result
    if (outputwindow.innerHTML == "") {
        // Give 0 as result in output window
        outputwindow.innerHTML = "0";
        // Give 0 as result in history window
        recent.innerHTML = "0";
    }
    // Otherwise perform calculation 
    else{
        // Eval function evaluates the string
        // First update the history window, showing the current calculation first and then the answer
        recent.innerHTML += outputwindow.innerHTML + "=" + eval(outputwindow.innerHTML) + "\n";
        // Then update the output winddow with the result
        outputwindow.innerHTML = eval(outputwindow.innerHTML);
    }
}
// Function to clear the output window
function clearWindow() {
    // Check to see if button is working
    console.log("Clear button pushed.");
    // Update output window to an empty string
    outputwindow.innerHTML = "";
}
// Function to clear the history window
function clearHistory() {
    // Check to see if button is working
    console.log("Clear history button pushed.");
    // Update history window to av empty string
    recent.innerHTML = "";
}
// Event listener to make the equals button perform compute function
equals.addEventListener("click", compute);
// Event listener to make the clear button perform clearWindow function
clear.addEventListener("click", clearWindow);
// Event listener to make the clearRecent button perform clearHistory function
clearRecent.addEventListener("click", clearHistory);
</script>
</body>